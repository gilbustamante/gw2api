<%- layout("layouts/boilerplate") %>
<h1>Market Transactions</h1>
<hr>
<ul class="nav nav-pills nav-fill mb-3" id="pills-tab" role="tablist">
  <li class="nav-item" role="presentation">
    <a class="nav-link active" id="pills-sold-tab" data-bs-toggle="pill" href="#pills-sold" role="tab" aria-controls="pills-sold" aria-selected="true">Sold</a>
  </li>
  <li class="nav-item" role="presentation">
    <a class="nav-link" id="pills-bought-tab" data-bs-toggle="pill" href="#pills-bought" role="tab" aria-controls="pills-bought" aria-selected="false">Bought</a>
  </li>
</ul>
<div class="tab-content" id="pills-tabContent">
  <div class="tab-pane fade show active" id="pills-sold" role="tabpanel" aria-labelledby="pills-sold-tab">
    <h4>Sold Items</h4>
    <div class="mb-3">
      <ul class="list-group-flush p-0">
        <% for (let item of sell) { %> 
          <li class="list-group-item">
            <strong><%= sellDict[item.item_id].name %></strong>
            <br>
            Price: <%- convertGold(item.price) %>
            <br>
            Sold: <%= new Date(item.purchased).toLocaleString(
              'en-US',
              {
                dateStyle: 'long',
                timeStyle: 'long'
              }
            ) %>
          </li>
        <% } %> 
      </ul>
    </div>
  </div>
  <div class="tab-pane fade" id="pills-bought" role="tabpanel" aria-labelledby="pills-bought-tab">
    <h4>Bought Items</h4>
    <div class="mb-3">
      <ul class="list-group-flush p-0">
        <% for (let item of buy) { %> 
          <li class="list-group-item">
            <strong><%= buyDict[item.item_id].name %></strong>
            <br>
            Price: <%- convertGold(item.price) %> 
            <br>
            Sold: <%= new Date(item.purchased).toLocaleString(
              'en-US',
              {
                dateStyle: 'long',
                timeStyle: 'long'
              }
            ) %>
          </li>
        <% } %> 
      </ul>
    </div>
  </div>
</div>
